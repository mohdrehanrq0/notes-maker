generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "mysql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  relationMode      = "prisma"
}

model unitData {
  Id            Int             @id @unique @default(autoincrement())
  unitName      String
  course        String
  semester      String
  year          String
  branch        String
  chapterNumber Int
  topics        String          @db.VarChar(1000)
  response      responseModel[]
}

model responseModel {
  Id                   Int                @id @unique @default(autoincrement())
  explanation          String             @db.VarChar(10000)
  example              String             @db.VarChar(1000)
  topic                String             @db.VarChar(1000)
  youtube_search_query String             @db.VarChar(1000)
  youtubeIds           String
  unitDataId           Int?
  extraPoints          extraPointsModel[]
  unitData             unitData?          @relation(fields: [unitDataId], references: [Id])

  @@index([unitDataId])
}

model extraPointsModel {
  Id               Int                     @id @unique @default(autoincrement())
  name             String                  @db.LongText
  responseModelId  Int?
  explanationExtra explanationExtraModel[]
  responseModel    responseModel?          @relation(fields: [responseModelId], references: [Id])

  @@index([responseModelId])
}

model explanationExtraModel {
  Id            Int               @id @unique @default(autoincrement())
  topic         String            @db.LongText
  description   String            @db.VarChar(10000)
  extraPointsId Int?
  extraPoints   extraPointsModel? @relation(fields: [extraPointsId], references: [Id])

  @@index([extraPointsId])
}
